---
title: "How to Stream Responses from the Langflow API in Node.js"
slug: "how-to-stream-responses-from-langflow-api-in-node-js"
excerpt: "You’ve integrated your Langflow flow into your app, and learned how to use the Langflow API in Node.js. Now you’ll learn how to stream results from your Langflow flows in Node.js."
publishedAt: "2025-06-01T04:57:00.000Z"
featureImage: "/content/images/posts/9e17579dfea86fc903e197a8524ffd08b9c1078d-1460x968.jpg"
authors:
  - phil
tags: []
---

Building flows and AI agents in Langflow is one of the fastest ways to experiment with generative AI. Once you've built your flow, you’ll want to integrate it into your own application. Langflow exposes an API for this; [we’ve written before about how to use it in Node.js](/blog/use-langflow-api-in-node-js). We've also seen that [streaming GenAI outputs makes for a better user experience](https://www.datastax.com/blog/fetch-streams-api-for-faster-ux-generative-ai-apps). So today, we're going to combine the two and show you how to stream results from your Langflow flows in Node.js.

![Example code for using the JavaScript Langflow client. It reads:  import { LangflowClient } from "@datastax/langflow-client";  const client = new LangflowClient({ langflowId, apiKey }); const flow = client.flow(flowId);  const response = await flow.stream("hello there!"); for await (const event of response) {   console.log(event); }](/content/images/posts/7ad692f947e95dc96d5ad46794d73af983b7475d-1520x916.png)

Using the Langflow client
-------------------------

The easiest way to use the Langflow API is with the [@datastax/langflow-client npm module](https://www.npmjs.com/package/@datastax/langflow-client). You can get started with the client by installing the module with npm:

```sh
npm install @datastax/langflow-client
```

We showed an example of [how to set the Langflow client up before](/blog/use-langflow-api-in-node-js#initializing-for-datastax-hosted-langflow-2), but the quick version starts by importing the client:

```typescript
import { LangflowClient } from "@datastax/langflow-client"
```

You then need the URL where you’re hosting Langflow and, if you've set up user authorisation, an [API key](https://docs.langflow.org/configuration-api-keys). You then initialise the client with both:

```typescript
const baseUrl = "http://localhost:7860";  
const apiKey = "YOUR_API_KEY";  
const client = new LangflowClient({ baseUrl, apiKey });
```

## Streaming with the Langflow client

To stream through the API, you need a flow that’s set up for streaming responses. A streaming flow needs a model with streaming capabilities and the stream flag turned on, connected to a chat output. The basic prompting example, with streaming turned on, is a good example of this.

![A screenshot of a Langflow flow with a chat input and prompt that are both connected to the OpenAI model. The OpenAI model component has the Stream setting enabled and it is connected to a Chat Output component.](/content/images/posts/603fdfbb36fdfe451c6676c75f59985e6f07efbf-1342x936.png)

If you don't already have a flow, you can use the basic prompting flow as an example.

Once you have your flow in place, open the API modal and get the flow ID.

![A screenshot of the Langflow API modal. It shows the API URL and points out that the flow ID can be found in the URL after api/v1/run.](/content/images/posts/b9b0951c221dfacbfa8aad677935ca2d456a5658-1176x920.png)

With the flow ID and the Langflow client, you can create a flow object:

```typescript
const flowId = "YOUR_FLOW_ID";  
const flow = client.flow(flowId);
```

To stream a response from the flow, you can use the [`stream function`](https://www.npmjs.com/package/@datastax/langflow-client#streaming). The response is a [`ReadableStream`](https://developer.mozilla.org/en-US/docs/Web/API/ReadableStream#examples) that you can iterate asynchronously over.

```typescript
const response = await flow.stream("Hello, how are you?");  
for await (const event of response) {  
  console.log(event);  
}
```

There are three types of event that the stream emits; this is what each of them means:

* `add_message`: a message has been added to the chat. It can refer to a human input message or a response from an AI.
* `token`: a token has been emitted as part of a message being generated by the model.
* `end`: all tokens have been returned; this message will also contain the same full response that you get from a non-streaming request

If you want to log out just the text from a flow response you can do the following:

```typescript
const response = await flow.stream("Hello, how are you?");  
for await (const event of response) {  
  if (event.event === "token") {  
    console.log(event.data.chunk);  
  }  
}
```

![An animation of a terminal program running the code that logs each chunk. It logs its response one word at a time, but quickly.](/content/images/posts/c197942f8382ee2a55b791ff64c5b3fa4dbf1df0-558x404.gif)

The stream function takes all the same arguments as the [run function](https://www.npmjs.com/package/@datastax/langflow-client#calling-a-flow), so you can provide tweaks for your components, too.

## Integrating with Express

If you want to make an API request from an [Express server](https://expressjs.com/) and then stream it to your own front-end, you can do the following:

```typescript
app.get("/stream", async (_req, res) => {  
  res.set("Content-Type", "text/plain");  
  res.set("Transfer-Encoding", "chunked");  
  
  const response = await flow.stream("Hello, how are you?");  
  
  for await (const event of response) {  
    if (event.event === "token") {  
      res.write(event.data.chunk);  
    }  
  }  
  
  res.end();  
});
```

We explored [how you can handle a stream on the front-end in this blog post](https://www.datastax.com/blog/fetch-streams-api-for-faster-ux-generative-ai-apps).

## Stream your flows

Langflow enables you to rapidly build, experiment with, and deploy GenAI applications and with the [JavaScript Langflow client](https://www.npmjs.com/package/@datastax/langflow-client) you can easily stream those responses in your JavaScript applications.

Please do try out the Langflow client; if you have any issues, please raise them on [the GitHub repo](https://github.com/datastax/langflow-client-ts). If you're looking for more inspiration for building AI agents with Langflow, check out these posts that cover how to [build an agent that can manage your calendar with Langflow and Composio](/blog/build-simple-ai-agent-with-langflow-composio) or see how you can [build local agents with Langflow and Ollama](/blog/local-ai-using-ollama-with-agents).