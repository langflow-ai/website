// Typography optimization for better font loading and performance

// Critical heading styles with optimized font loading
.heading-critical {
  font-family: var(--font-body);
  font-display: swap;
  font-optical-sizing: auto;
  text-rendering: optimizeLegibility;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

// Optimized heading hierarchy
h1, .h1 {
  @extend .heading-critical;
  font-weight: 400;
  letter-spacing: -0.02em;
  line-height: 1.1;
  
  // Progressive enhancement for variable fonts
  @supports (font-variation-settings: normal) {
    font-variation-settings: "wght" 400;
  }
}

h2, .h2 {
  @extend .heading-critical;
  font-weight: 500;
  letter-spacing: -0.01em;
  line-height: 1.2;
  
  @supports (font-variation-settings: normal) {
    font-variation-settings: "wght" 500;
  }
}

h3, .h3 {
  @extend .heading-critical;
  font-weight: 600;
  letter-spacing: -0.005em;
  line-height: 1.25;
  
  @supports (font-variation-settings: normal) {
    font-variation-settings: "wght" 600;
  }
}

h4, .h4, h5, .h5, h6, .h6 {
  @extend .heading-critical;
  font-weight: 600;
  line-height: 1.3;
  
  @supports (font-variation-settings: normal) {
    font-variation-settings: "wght" 600;
  }
}

// Body text optimization
body {
  font-family: var(--font-body);
  font-display: swap;
  text-rendering: optimizeSpeed;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

// Code font optimization
code, pre, .code {
  font-family: var(--font-jet-brains);
  font-display: swap;
  text-rendering: optimizeSpeed;
  
  @supports (font-variation-settings: normal) {
    font-variation-settings: "wght" 400;
  }
}

// Font loading optimization classes
.font-loading {
  font-display: swap;
  visibility: hidden;
}

.font-loaded {
  visibility: visible;
  transition: visibility 0s;
}

// Responsive font sizing with better performance
@media (max-width: 768px) {
  h1, .h1 {
    font-size: clamp(2rem, 5vw, 3.5rem);
  }
  
  h2, .h2 {
    font-size: clamp(1.5rem, 4vw, 2.5rem);
  }
  
  h3, .h3 {
    font-size: clamp(1.25rem, 3vw, 2rem);
  }
}

@media (min-width: 769px) {
  h1, .h1 {
    font-size: clamp(3.5rem, 6vw, 5rem);
  }
  
  h2, .h2 {
    font-size: clamp(2.5rem, 4vw, 3.5rem);
  }
  
  h3, .h3 {
    font-size: clamp(2rem, 3vw, 2.5rem);
  }
}

// Performance optimizations for font rendering
.text-optimize-speed {
  text-rendering: optimizeSpeed;
}

.text-optimize-legibility {
  text-rendering: optimizeLegibility;
}

.font-smooth {
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

// Critical font subset loading
.font-subset-latin {
  unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;
}
